<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/productivity-news/favicon/favicon.ico"/><link rel="icon" href="/productivity-news/favicon/icon.svg" type="image/svg+xml"/><link rel="apple-touch-icon" href="/productivity-news/favicon/apple-touch-icon.png"/><link rel="manifest" href="/productivity-news/favicon/site.webmanifest"/><meta name="theme-color" content="#000"/><meta property="og:image" content="https://cybozu.github.io/productivity-news/og-image.png"/><meta name="twitter:image" content="https://cybozu.github.io/productivity-news/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><title>#9 - 2023.05.24 | Cybozu Productivity News</title><meta name="og:title" content="#9 - 2023.05.24 | Cybozu Productivity News"/><meta name="next-head-count" content="12"/><link rel="preload" href="/productivity-news/_next/static/css/e9b3e6a132e6efce.css" as="style"/><link rel="stylesheet" href="/productivity-news/_next/static/css/e9b3e6a132e6efce.css" data-n-g=""/><link rel="preload" href="/productivity-news/_next/static/css/236a9c0f78af5b56.css" as="style"/><link rel="stylesheet" href="/productivity-news/_next/static/css/236a9c0f78af5b56.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/productivity-news/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/productivity-news/_next/static/chunks/webpack-473f7a533704d3c7.js" defer=""></script><script src="/productivity-news/_next/static/chunks/framework-6fb3980f016be2d7.js" defer=""></script><script src="/productivity-news/_next/static/chunks/main-4f8d1876aae14607.js" defer=""></script><script src="/productivity-news/_next/static/chunks/pages/_app-1e17a6754614af77.js" defer=""></script><script src="/productivity-news/_next/static/chunks/72-915495b5abb2d97e.js" defer=""></script><script src="/productivity-news/_next/static/chunks/pages/posts/%5Byear%5D/%5Bslug%5D-6b5584d8c88e1283.js" defer=""></script><script src="/productivity-news/_next/static/i3asCg1w_lJDzchl9QowM/_buildManifest.js" defer=""></script><script src="/productivity-news/_next/static/i3asCg1w_lJDzchl9QowM/_ssgManifest.js" defer=""></script><script src="/productivity-news/_next/static/i3asCg1w_lJDzchl9QowM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="min-h-screen"><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/productivity-news/">Cybozu Productivity News</a></h2><article class="mb-32"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">#9 - 2023.05.24</h1><div class="max-w-full mx-auto"><div class="markdown-styles_markdown__h_8de"><h2><a href="https://zenn.dev/tmknom/articles/github-apps-token">GitHub Appsトークン解体新書：GitHub ActionsからPATを駆逐する技術</a></h2>
<p>共有担当: <a href="https://twitter.com/ganta0087">@ganta0087</a></p>
<ul>
<li>GitHub APIを使った自動化を行う際にPAT(Personal Access Token)ではなく、GitHub Appを使ったIAT(Installation Access Token)を使うことをオススメする内容です。</li>
<li>GitHub Appの設定からIATの生成までを詳しく解説しています。</li>
<li>関連
<ul>
<li><a href="https://github.com/cybozu/octoken-action">https://github.com/cybozu/octoken-action</a></li>
</ul>
</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-05-04-github-actions-all-actions-will-run-on-node16-instead-of-node12/">GitHub Actions: All Actions will run on Node16 instead of Node12 | GitHub Changelog</a></h2>
<p>共有担当: <a href="https://github.com/korosuke613">@korosuke613</a></p>
<ul>
<li><a href="https://github.blog/changelog/2022-09-22-github-actions-all-actions-will-begin-running-on-node16-instead-of-node12/">以前より告知されていた</a>通り、GitHub Actions において、5/18 より GitHub Actions で動作する全ての JavaScript アクションは Node.js v16 で動作するようになります</li>
<li>5/18 以降は <code>node12</code> を指定しても Node.js v16 で動作するようになります
<ul>
<li>元々 JavaScript アクションで指定できる Node.js のバージョンは v12 のみでした(<code>node12</code>)が、一昨年末から Node.js v16 も指定できるようになりました(<code>node16</code>)<sup><a href="#user-content-fn-node16" id="user-content-fnref-node16" data-footnote-ref aria-describedby="footnote-label">1</a></sup><sup><a href="#user-content-fn-actions_can" id="user-content-fnref-actions_can" data-footnote-ref aria-describedby="footnote-label">2</a></sup></li>
<li>もとより Node.js v12 自体は 2022 年 4 月にサポートが終了しています</li>
</ul>
</li>
<li>JavaScript アクションを開発している方でまだ <code>node12</code> を指定している方は <code>node16</code> でも動くようにアクションを更新しましょう
<ul>
<li>そういや <a href="https://nodejs.org/en/blog/announcements/nodejs16-eol">Node.js 16 は 2023 年 9 月にサポート終了予定</a>ですが、まだ <code>node18</code> は出ていませんね</li>
</ul>
</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-04-17-introducing-repository-rules-public-beta/">Introducing Repository Rules Public Beta | GitHub Changelog</a></h2>
<p>共有担当: <a href="https://github.com/korosuke613">@korosuke613</a></p>
<ul>
<li>GitHub においてブランチ保護を今後置き換えそうな機能、Repository Rules が public beta になりました</li>
<li>branch protection rules や protected tags よりも柔軟に、そして強力に保護をかけることが可能です。また、GitHub Enterprise Cloud の顧客であれば Organization 全体でルールを適用できます</li>
<li>また、従来の branch protection rules でできたような設定の他に、コミット名やブランチ名にも制限をかけることができるため、conventional commit を強制するなんてことも可能です
<ul>
<li>ただし GHEC のみ</li>
</ul>
</li>
<li>実際に使ってみてどんな感じだったかをスクラップに書いています。どんな感じか興味ある方は読んでみてください
<ul>
<li><a href="https://zenn.dev/korosuke613/scraps/84794d9baed038">GitHub の Repository Rules を試してみる</a></li>
</ul>
</li>
<li>特に嬉しいのはやっぱり GHEC 契約者ですかね
<ul>
<li>ブランチやタグの保護を Organization で共通化できるのは嬉しいです</li>
<li>ルールをいきなり適用するのではなく、現状ルールに違反しているアクションがあるかどうかなどをチェックできる Evaluate モードがあるのが組織向けでいいですね</li>
</ul>
</li>
<li>活用していきたいです</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-04-19-npm-provenance-public-beta/">npm provenance public beta | GitHub Changelog</a></h2>
<p>共有担当: <a href="https://github.com/korosuke613">@korosuke613</a></p>
<ul>
<li>npm registry において、npm パッケージがどこで何をソースに作られたかを意味する provenance を付与した状態で npm registry にパッケージを公開できるようになりました（public beta）
<ul>
<li>provenance 自体は起源とか由来っていう意味らしいですが、個人的には出自とか血統証明書って考える方がしっくりきました
<ul>
<li><a href="https://twitter.com/gorohash/status/1651239846730686464">「『出自』とか？」</a></li>
<li><a href="https://twitter.com/Shitimi_613/status/1651396096630095872">「現実のものだと『血統証明書』って考えるとわかりやすいかも」</a></li>
</ul>
</li>
</ul>
</li>
<li>OIDC を使って provenance に当たる情報を Sigstore のサーバに送り、返ってくる署名の証明書をパッケージと一緒にレジストリに送るという仕組みらしいです</li>
<li>GitHub Actions が対応しているということで、サンプルのワークフローが載っています
<ul>
<li>おそらく OIDC 対応してる CI/CD サービスなら対応できると思うのですが、現状 GitHub Actions 以外はどこまで対応してそうなのかは分かりませんでした
<ul>
<li>誰か調べてほしい</li>
</ul>
</li>
</ul>
</li>
<li>方法としては OIDC を使えるようにして <code>npm publish</code> に <code>--provenance</code> をつけるだけでできるので、割と簡単です</li>
<li>実際に試してみました
<ul>
<li>リポジトリ: <a href="https://github.com/korosuke613/demo-release-please-for-npm">korosuke613/demo-release-please-for-npm</a></li>
<li>npm: <a href="https://www.npmjs.com/package/demo-release-please-for-npm">demo-release-please-for-npm</a></li>
<li>行った変更
<ul>
<li><a href="https://github.com/korosuke613/demo-release-please-for-npm/commit/fc87557511c732a08fefc2b065399f11f18ec348">ci: describe provenance in npm</a>: <code>--provenance</code> の付与</li>
<li><a href="https://github.com/korosuke613/demo-release-please-for-npm/commit/c647918ca80f6ade1c586d96778bb90ab265d30d">ci: fix release permissions</a>: ワークフローの <code>permissions.id-token</code> で <code>write</code> を指定し忘れたので修正</li>
<li><a href="https://github.com/korosuke613/demo-release-please-for-npm/commit/d59303346be26740c8a6c5b217fbc414cb79a9af">ci: fix release provenance</a>: <code>package.json</code> の <code>repository.url</code> にリポジトリ url を指定する必要があったので修正</li>
</ul>
</li>
</ul>
</li>
<li>パッケージのページには次の情報が載ります
<ul>
<li>ビルドサマリーのページへのリンク (<code>View build summary</code>)</li>
<li>ビルド時のコミットへのリンク (<code>Source Commit</code>)</li>
<li>ビルドに使ったワークフローファイルへのリンク (<code>Build File</code>)</li>
<li>rekor という Sigstore の情報を見るサイト（？）(<code>Public Ledger</code>)</li>
</ul>
</li>
<li>簡単に血統証明書を残すことができるので、とりあえず設定してみても良いかと思います。気になる人は試してみてください</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-05-09-more-secure-private-attachments/">More secure private attachments | GitHub Changelog</a></h2>
<p>共有担当: <a href="https://twitter.com/miyajan">@miyajan</a></p>
<ul>
<li>これまで、GitHub の private (internal) リポジトリでは、issue や PR などに添付された画像や動画は、URL を知っていれば認証なしでアクセス可能でした</li>
<li>これからは、private リポジトリに添付された画像や動画を閲覧するにはログインが必要になります
<ul>
<li>過去の画像にこの変更は適用されないので注意</li>
</ul>
</li>
<li>認証の仕組みは GitHub のサービス本体とは少し違うので注意
<ul>
<li>ためしに private リポジトリで添付画像を含むページを開くと、添付画像の URL（<code>private-user-images.githubusercontent.com</code> ドメイン）は、<code>jwt</code> パラメータが含まれることが確認できます</li>
<li>この <code>jwt</code> パラメータが認証情報として使われます</li>
<li>つまり、<code>jwt</code> パラメータを含む URL を共有してしまうと、誰でも見られるので注意</li>
<li>ただし、JWT の有効期限は 5 分なので、URL が流出しても永続的に見られるわけではないです</li>
</ul>
</li>
<li>これまで業務で画像とか貼りづらかった問題が解消されて、とてもよいですね！</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-03-28-generate-an-sbom-from-the-dependency-graph/">Generate an SBOM from the dependency graph</a></h2>
<p>共有担当: <a href="https://twitter.com/defaultcf">@defaultcf</a></p>
<ul>
<li>GitHub で <a href="https://spdx.github.io/spdx-spec/v2.3/">SPDX 2.3</a> に準拠した SBOM（Software bill of materials）をエクスポートできるようになりました。</li>
<li>利用方法
<ul>
<li>Dependency graph のページからダウンロードできます。</li>
<li>gh CLI の拡張として <a href="https://github.com/advanced-security/gh-sbom">gh-sbom</a> が使えます。</li>
<li>GitHub Action として <a href="https://github.com/marketplace/actions/sbom-generator-action">advanced-security/sbom-generator-action</a> が使えます。</li>
<li>REST API のエンドポイント <a href="https://docs.github.com/ja/rest/dependency-graph/sboms?apiVersion=2022-11-28">repos/OWNER/REPO/dependency-graph/sbom</a> で SBOM をダウンロードできます。</li>
</ul>
</li>
<li>昨今のサプライチェーン攻撃に対応したり、ライセンスを確認したりするのに便利そうです。</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-03-28-updates-to-the-repository-dependency-graph-view/">Updates to the repository dependency graph view</a></h2>
<p>共有担当: <a href="https://twitter.com/defaultcf">@defaultcf</a></p>
<ul>
<li>Dependency Graph がアップデートされました。
<ul>
<li>パッケージ名で検索できるようになりました。</li>
<li>ライセンスが表示されるようになりました。</li>
<li>Dependabot による脆弱性検出結果が分かりやすく表示されるようになり、またプルリクに飛ぶことができるようになりました。</li>
</ul>
</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-03-24-github-actions-the-setup-go-action-now-enables-caching-by-default/">GitHub Actions: The setup-go Action now enables caching by default</a></h2>
<p>共有担当: <a href="https://twitter.com/defaultcf">@defaultcf</a></p>
<ul>
<li><a href="https://github.com/marketplace/actions/setup-go-environment">actions/setup-go</a> で v4 がリリースされ、キャッシュがデフォルトで有効になりました。
<ul>
<li>デフォルトで有効なので、意図的にキャッシュしたくない場合は明示的に <code>cahce: false</code> を指定する必要があります。</li>
</ul>
</li>
<li>依存関係が100MBを超えるリポジトリでは、ビルド時間が20~40%削減できたそうです。</li>
<li>actions/cache などでキャッシュする必要が無くなり、ジョブをよりシンプルに書けるようになったのは嬉しいですね。</li>
</ul>
<h2><a href="https://qiita.com/lazy-kz/items/32e8e7c86bdce67beb48">CTOの視点から見たAzure OpenAI ServiceとOpenAIのChatGPT APIの深堀り比較 - Qiita</a> の紹介</h2>
<p>共有担当: <a href="https://twitter.com/naotama">@naotama</a></p>
<ul>
<li>OpenAI社とAzureが提供する OpenAI Service に関する比較記事です。社内利用個人的目線で、
<ul>
<li>基本性能(安定性/可用性/動作速度/モデル精度) Azure > OpenAI</li>
<li>セキュリティ/プライバシー Azure > OpenAI</li>
<li>料金 Azure = OpenAI</li>
<li>リリース速度/利用開始方法 Azure &#x3C; OpenAI</li>
<li>組み込み方法/サポート体制 Azure = OpenAI ( プロダクト組み込み時はサポートがあって Azure の方が良さそう )</li>
</ul>
</li>
<li>ChatGPT/OpenAI APIを社内利用する関連で、 <a href="https://developers.prtimes.jp/2023/04/05/use-chatbot-ui/">Chatbot-ui で ChatGPT を社内利用できるようにしました</a> というものがあります。<a href="https://openai.com/policies/terms-of-use">OpenAI API 規約</a>に基づいて、社内利用し易くしようという取り組みです。生産性をあげるツールとして社内で利用したい...という際に、どの OpenAI Service を利用するかを含めて、検討してみると良いと思います。</li>
</ul>
<h2><a href="https://aws.amazon.com/jp/blogs/news/amazon-codewhisperer-free-for-individual-use-is-now-generally-available/">個人で無料で使用できる Amazon CodeWhisperer が一般公開されました</a></h2>
<p>共有担当: <a href="https://zenn.dev/takamin55">@takamin55</a></p>
<ul>
<li>Amazon CodeWhispererがGAになりました</li>
<li>AWSが提供するAIコーディング支援サービスです
<ul>
<li>大きく3つの機能があります
<ul>
<li>1.コード生成
<ul>
<li>関数名から処理コードを提案、コメントから処理コードを提案、既存の関数からユニットテストを提案などを行える</li>
<li>サポート言語（精度高め）: Java,Python,JavaScript,TypeScript,C#</li>
<li>その他言語：Ruby,Go,PHP,C++,C,Shell,Scala,Rust,Kotlin,SQL</li>
</ul>
</li>
<li>2.生成したコードのリファレンス提供</li>
<li>3.セキュリティスキャン</li>
</ul>
</li>
</ul>
</li>
<li>価格は個人向けは無料となっており、AWSアカウントを持っていなくても使えるので導入ハードルは低く、AIコーディング支援のお試しに丁度良いですね。</li>
<li>試してみたZennがあるので、よければ見てください
<ul>
<li><a href="https://zenn.dev/takamin55/articles/977a738b1161df">https://zenn.dev/takamin55/articles/977a738b1161df</a></li>
</ul>
</li>
<li>以下の記事も参考になります
<ul>
<li><a href="https://aws.amazon.com/jp/blogs/news/10-ways-to-build-applications-faster-with-amazon-codewhisperer/">Amazon CodeWhisperer でアプリケーションをより速く構築する10の方法</a>
<ul>
<li>「コードからコメントを生成する（docs）」という逆の使い方もあって面白い</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-04-04-export-your-sponsorable-dependencies-and-sponsor-many-in-one-checkout/">Export your sponsorable dependencies and sponsor many in one checkout</a></h2>
<p>共有担当: <a href="https://twitter.com/r4mimu">@r4mimu</a></p>
<ul>
<li>GitHub においてスポンサー対象を探しやすくなりました</li>
<li>具体的には、<a href="https://github.com/sponsors/explore">Sponsors Explore</a> ページにアクセスすると、自分が依存しがちなスポンサーとなるユーザーが表示されます</li>
<li>また、自身が所属する Organization ごとに表示したり、npm, pipといったエコシステムを絞って検索することもできます</li>
<li>こういった機能をGitHubが公式で提供してくれると、開発者に還元され、コミュニティの発展にもつながるので素晴らしいですね</li>
</ul>
<h2><a href="https://github.blog/changelog/2023-05-09-secret-scannings-push-protection-is-available-on-public-repositories-for-free/">Secret scanning’s push protection is available on public repositories, for free</a></h2>
<p>共有担当: <a href="https://twitter.com/r4mimu">@r4mimu</a></p>
<ul>
<li>Secret scanning において、Push protection がすべての無料パブリックリポジトリで利用可能になりました
<ul>
<li>Secret scanning とはリモートリポジトリ内にシークレットがあるかどうか検知する機能です</li>
</ul>
</li>
<li>push protection は Secret scanning の機能の1つで、リポジトリへの push 時にコミット内にシークレットが入っている場合、push が失敗します
<ul>
<li><a href="https://zenn.dev/cybozu_ept/articles/productivity-weekly-20230510#secret-scanning&#x27;s-push-protection-is-available-on-public-repositories%2C-for-free-%7C-github-changelog">参考記事</a></li>
</ul>
</li>
<li>組織単位でも設定できるのも地味に嬉しい点です</li>
<li>余談ですが、検証のために ダミーの aws secret key を push してみましたが、protection されませんでした</li>
</ul>
<hr>
<h1>We are hiring</h1>
<a href="https://note.com/cybozu_dev/n/n1c1b44bf72f6">
<img src="https://user-images.githubusercontent.com/471182/156986297-b189ef3d-98d3-4490-af5c-007a4ab47e5e.png" alt="サイボウズの開発者の生産性を上げる「生産性向上チーム」とは！？" width="600">
</a>
<section data-footnotes class="footnotes"><h2 id="footnote-label" class="sr-only">Footnotes</h2>
<ol>
<li id="user-content-fn-node16">
<p><a href="https://zenn.dev/korosuke613/articles/productivity-weekly-20220216#javascript-actions%E3%82%92node16%E3%81%A7%E5%8B%95%E3%81%8B%E3%81%99%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B---kengo&#x27;s-blog">JavaScript Actionsをnode16で動かすようにする - Kengo's blog</a> <a href="#user-content-fnref-node16" data-footnote-backref class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-actions_can">
<p><a href="https://zenn.dev/korosuke613/articles/productivity-weekly-20220525#actions-can-now-run-in-a-node.js-16-runtime-%7C-github-changelog">Actions can now run in a Node.js 16 runtime | GitHub Changelog</a> <a href="#user-content-fnref-actions_can" data-footnote-backref class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section>
</div></div></article></div></main></div><footer class="bg-neutral-50 border-t border-neutral-200"><div class="container mx-auto px-5"><div class="py-10 flex flex-col lg:flex-row items-center"><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://github.com/cybozu/productivity-news" class="mx-3 font-bold hover:underline">View on GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"#9 - 2023.05.24","year":"2023","slug":"05-24","content":"\u003ch2\u003e\u003ca href=\"https://zenn.dev/tmknom/articles/github-apps-token\"\u003eGitHub Appsトークン解体新書：GitHub ActionsからPATを駆逐する技術\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/ganta0087\"\u003e@ganta0087\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub APIを使った自動化を行う際にPAT(Personal Access Token)ではなく、GitHub Appを使ったIAT(Installation Access Token)を使うことをオススメする内容です。\u003c/li\u003e\n\u003cli\u003eGitHub Appの設定からIATの生成までを詳しく解説しています。\u003c/li\u003e\n\u003cli\u003e関連\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/cybozu/octoken-action\"\u003ehttps://github.com/cybozu/octoken-action\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-05-04-github-actions-all-actions-will-run-on-node16-instead-of-node12/\"\u003eGitHub Actions: All Actions will run on Node16 instead of Node12 | GitHub Changelog\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://github.com/korosuke613\"\u003e@korosuke613\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.blog/changelog/2022-09-22-github-actions-all-actions-will-begin-running-on-node16-instead-of-node12/\"\u003e以前より告知されていた\u003c/a\u003e通り、GitHub Actions において、5/18 より GitHub Actions で動作する全ての JavaScript アクションは Node.js v16 で動作するようになります\u003c/li\u003e\n\u003cli\u003e5/18 以降は \u003ccode\u003enode12\u003c/code\u003e を指定しても Node.js v16 で動作するようになります\n\u003cul\u003e\n\u003cli\u003e元々 JavaScript アクションで指定できる Node.js のバージョンは v12 のみでした(\u003ccode\u003enode12\u003c/code\u003e)が、一昨年末から Node.js v16 も指定できるようになりました(\u003ccode\u003enode16\u003c/code\u003e)\u003csup\u003e\u003ca href=\"#user-content-fn-node16\" id=\"user-content-fnref-node16\" data-footnote-ref aria-describedby=\"footnote-label\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003csup\u003e\u003ca href=\"#user-content-fn-actions_can\" id=\"user-content-fnref-actions_can\" data-footnote-ref aria-describedby=\"footnote-label\"\u003e2\u003c/a\u003e\u003c/sup\u003e\u003c/li\u003e\n\u003cli\u003eもとより Node.js v12 自体は 2022 年 4 月にサポートが終了しています\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eJavaScript アクションを開発している方でまだ \u003ccode\u003enode12\u003c/code\u003e を指定している方は \u003ccode\u003enode16\u003c/code\u003e でも動くようにアクションを更新しましょう\n\u003cul\u003e\n\u003cli\u003eそういや \u003ca href=\"https://nodejs.org/en/blog/announcements/nodejs16-eol\"\u003eNode.js 16 は 2023 年 9 月にサポート終了予定\u003c/a\u003eですが、まだ \u003ccode\u003enode18\u003c/code\u003e は出ていませんね\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-04-17-introducing-repository-rules-public-beta/\"\u003eIntroducing Repository Rules Public Beta | GitHub Changelog\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://github.com/korosuke613\"\u003e@korosuke613\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub においてブランチ保護を今後置き換えそうな機能、Repository Rules が public beta になりました\u003c/li\u003e\n\u003cli\u003ebranch protection rules や protected tags よりも柔軟に、そして強力に保護をかけることが可能です。また、GitHub Enterprise Cloud の顧客であれば Organization 全体でルールを適用できます\u003c/li\u003e\n\u003cli\u003eまた、従来の branch protection rules でできたような設定の他に、コミット名やブランチ名にも制限をかけることができるため、conventional commit を強制するなんてことも可能です\n\u003cul\u003e\n\u003cli\u003eただし GHEC のみ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e実際に使ってみてどんな感じだったかをスクラップに書いています。どんな感じか興味ある方は読んでみてください\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://zenn.dev/korosuke613/scraps/84794d9baed038\"\u003eGitHub の Repository Rules を試してみる\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e特に嬉しいのはやっぱり GHEC 契約者ですかね\n\u003cul\u003e\n\u003cli\u003eブランチやタグの保護を Organization で共通化できるのは嬉しいです\u003c/li\u003e\n\u003cli\u003eルールをいきなり適用するのではなく、現状ルールに違反しているアクションがあるかどうかなどをチェックできる Evaluate モードがあるのが組織向けでいいですね\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e活用していきたいです\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-04-19-npm-provenance-public-beta/\"\u003enpm provenance public beta | GitHub Changelog\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://github.com/korosuke613\"\u003e@korosuke613\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003enpm registry において、npm パッケージがどこで何をソースに作られたかを意味する provenance を付与した状態で npm registry にパッケージを公開できるようになりました（public beta）\n\u003cul\u003e\n\u003cli\u003eprovenance 自体は起源とか由来っていう意味らしいですが、個人的には出自とか血統証明書って考える方がしっくりきました\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://twitter.com/gorohash/status/1651239846730686464\"\u003e「『出自』とか？」\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://twitter.com/Shitimi_613/status/1651396096630095872\"\u003e「現実のものだと『血統証明書』って考えるとわかりやすいかも」\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eOIDC を使って provenance に当たる情報を Sigstore のサーバに送り、返ってくる署名の証明書をパッケージと一緒にレジストリに送るという仕組みらしいです\u003c/li\u003e\n\u003cli\u003eGitHub Actions が対応しているということで、サンプルのワークフローが載っています\n\u003cul\u003e\n\u003cli\u003eおそらく OIDC 対応してる CI/CD サービスなら対応できると思うのですが、現状 GitHub Actions 以外はどこまで対応してそうなのかは分かりませんでした\n\u003cul\u003e\n\u003cli\u003e誰か調べてほしい\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e方法としては OIDC を使えるようにして \u003ccode\u003enpm publish\u003c/code\u003e に \u003ccode\u003e--provenance\u003c/code\u003e をつけるだけでできるので、割と簡単です\u003c/li\u003e\n\u003cli\u003e実際に試してみました\n\u003cul\u003e\n\u003cli\u003eリポジトリ: \u003ca href=\"https://github.com/korosuke613/demo-release-please-for-npm\"\u003ekorosuke613/demo-release-please-for-npm\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003enpm: \u003ca href=\"https://www.npmjs.com/package/demo-release-please-for-npm\"\u003edemo-release-please-for-npm\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e行った変更\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/korosuke613/demo-release-please-for-npm/commit/fc87557511c732a08fefc2b065399f11f18ec348\"\u003eci: describe provenance in npm\u003c/a\u003e: \u003ccode\u003e--provenance\u003c/code\u003e の付与\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/korosuke613/demo-release-please-for-npm/commit/c647918ca80f6ade1c586d96778bb90ab265d30d\"\u003eci: fix release permissions\u003c/a\u003e: ワークフローの \u003ccode\u003epermissions.id-token\u003c/code\u003e で \u003ccode\u003ewrite\u003c/code\u003e を指定し忘れたので修正\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/korosuke613/demo-release-please-for-npm/commit/d59303346be26740c8a6c5b217fbc414cb79a9af\"\u003eci: fix release provenance\u003c/a\u003e: \u003ccode\u003epackage.json\u003c/code\u003e の \u003ccode\u003erepository.url\u003c/code\u003e にリポジトリ url を指定する必要があったので修正\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eパッケージのページには次の情報が載ります\n\u003cul\u003e\n\u003cli\u003eビルドサマリーのページへのリンク (\u003ccode\u003eView build summary\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eビルド時のコミットへのリンク (\u003ccode\u003eSource Commit\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eビルドに使ったワークフローファイルへのリンク (\u003ccode\u003eBuild File\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003erekor という Sigstore の情報を見るサイト（？）(\u003ccode\u003ePublic Ledger\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e簡単に血統証明書を残すことができるので、とりあえず設定してみても良いかと思います。気になる人は試してみてください\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-05-09-more-secure-private-attachments/\"\u003eMore secure private attachments | GitHub Changelog\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/miyajan\"\u003e@miyajan\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eこれまで、GitHub の private (internal) リポジトリでは、issue や PR などに添付された画像や動画は、URL を知っていれば認証なしでアクセス可能でした\u003c/li\u003e\n\u003cli\u003eこれからは、private リポジトリに添付された画像や動画を閲覧するにはログインが必要になります\n\u003cul\u003e\n\u003cli\u003e過去の画像にこの変更は適用されないので注意\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e認証の仕組みは GitHub のサービス本体とは少し違うので注意\n\u003cul\u003e\n\u003cli\u003eためしに private リポジトリで添付画像を含むページを開くと、添付画像の URL（\u003ccode\u003eprivate-user-images.githubusercontent.com\u003c/code\u003e ドメイン）は、\u003ccode\u003ejwt\u003c/code\u003e パラメータが含まれることが確認できます\u003c/li\u003e\n\u003cli\u003eこの \u003ccode\u003ejwt\u003c/code\u003e パラメータが認証情報として使われます\u003c/li\u003e\n\u003cli\u003eつまり、\u003ccode\u003ejwt\u003c/code\u003e パラメータを含む URL を共有してしまうと、誰でも見られるので注意\u003c/li\u003e\n\u003cli\u003eただし、JWT の有効期限は 5 分なので、URL が流出しても永続的に見られるわけではないです\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eこれまで業務で画像とか貼りづらかった問題が解消されて、とてもよいですね！\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-03-28-generate-an-sbom-from-the-dependency-graph/\"\u003eGenerate an SBOM from the dependency graph\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/defaultcf\"\u003e@defaultcf\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub で \u003ca href=\"https://spdx.github.io/spdx-spec/v2.3/\"\u003eSPDX 2.3\u003c/a\u003e に準拠した SBOM（Software bill of materials）をエクスポートできるようになりました。\u003c/li\u003e\n\u003cli\u003e利用方法\n\u003cul\u003e\n\u003cli\u003eDependency graph のページからダウンロードできます。\u003c/li\u003e\n\u003cli\u003egh CLI の拡張として \u003ca href=\"https://github.com/advanced-security/gh-sbom\"\u003egh-sbom\u003c/a\u003e が使えます。\u003c/li\u003e\n\u003cli\u003eGitHub Action として \u003ca href=\"https://github.com/marketplace/actions/sbom-generator-action\"\u003eadvanced-security/sbom-generator-action\u003c/a\u003e が使えます。\u003c/li\u003e\n\u003cli\u003eREST API のエンドポイント \u003ca href=\"https://docs.github.com/ja/rest/dependency-graph/sboms?apiVersion=2022-11-28\"\u003erepos/OWNER/REPO/dependency-graph/sbom\u003c/a\u003e で SBOM をダウンロードできます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e昨今のサプライチェーン攻撃に対応したり、ライセンスを確認したりするのに便利そうです。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-03-28-updates-to-the-repository-dependency-graph-view/\"\u003eUpdates to the repository dependency graph view\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/defaultcf\"\u003e@defaultcf\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDependency Graph がアップデートされました。\n\u003cul\u003e\n\u003cli\u003eパッケージ名で検索できるようになりました。\u003c/li\u003e\n\u003cli\u003eライセンスが表示されるようになりました。\u003c/li\u003e\n\u003cli\u003eDependabot による脆弱性検出結果が分かりやすく表示されるようになり、またプルリクに飛ぶことができるようになりました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-03-24-github-actions-the-setup-go-action-now-enables-caching-by-default/\"\u003eGitHub Actions: The setup-go Action now enables caching by default\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/defaultcf\"\u003e@defaultcf\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/marketplace/actions/setup-go-environment\"\u003eactions/setup-go\u003c/a\u003e で v4 がリリースされ、キャッシュがデフォルトで有効になりました。\n\u003cul\u003e\n\u003cli\u003eデフォルトで有効なので、意図的にキャッシュしたくない場合は明示的に \u003ccode\u003ecahce: false\u003c/code\u003e を指定する必要があります。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e依存関係が100MBを超えるリポジトリでは、ビルド時間が20~40%削減できたそうです。\u003c/li\u003e\n\u003cli\u003eactions/cache などでキャッシュする必要が無くなり、ジョブをよりシンプルに書けるようになったのは嬉しいですね。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://qiita.com/lazy-kz/items/32e8e7c86bdce67beb48\"\u003eCTOの視点から見たAzure OpenAI ServiceとOpenAIのChatGPT APIの深堀り比較 - Qiita\u003c/a\u003e の紹介\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/naotama\"\u003e@naotama\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOpenAI社とAzureが提供する OpenAI Service に関する比較記事です。社内利用個人的目線で、\n\u003cul\u003e\n\u003cli\u003e基本性能(安定性/可用性/動作速度/モデル精度) Azure \u003e OpenAI\u003c/li\u003e\n\u003cli\u003eセキュリティ/プライバシー Azure \u003e OpenAI\u003c/li\u003e\n\u003cli\u003e料金 Azure = OpenAI\u003c/li\u003e\n\u003cli\u003eリリース速度/利用開始方法 Azure \u0026#x3C; OpenAI\u003c/li\u003e\n\u003cli\u003e組み込み方法/サポート体制 Azure = OpenAI ( プロダクト組み込み時はサポートがあって Azure の方が良さそう )\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eChatGPT/OpenAI APIを社内利用する関連で、 \u003ca href=\"https://developers.prtimes.jp/2023/04/05/use-chatbot-ui/\"\u003eChatbot-ui で ChatGPT を社内利用できるようにしました\u003c/a\u003e というものがあります。\u003ca href=\"https://openai.com/policies/terms-of-use\"\u003eOpenAI API 規約\u003c/a\u003eに基づいて、社内利用し易くしようという取り組みです。生産性をあげるツールとして社内で利用したい...という際に、どの OpenAI Service を利用するかを含めて、検討してみると良いと思います。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://aws.amazon.com/jp/blogs/news/amazon-codewhisperer-free-for-individual-use-is-now-generally-available/\"\u003e個人で無料で使用できる Amazon CodeWhisperer が一般公開されました\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://zenn.dev/takamin55\"\u003e@takamin55\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAmazon CodeWhispererがGAになりました\u003c/li\u003e\n\u003cli\u003eAWSが提供するAIコーディング支援サービスです\n\u003cul\u003e\n\u003cli\u003e大きく3つの機能があります\n\u003cul\u003e\n\u003cli\u003e1.コード生成\n\u003cul\u003e\n\u003cli\u003e関数名から処理コードを提案、コメントから処理コードを提案、既存の関数からユニットテストを提案などを行える\u003c/li\u003e\n\u003cli\u003eサポート言語（精度高め）: Java,Python,JavaScript,TypeScript,C#\u003c/li\u003e\n\u003cli\u003eその他言語：Ruby,Go,PHP,C++,C,Shell,Scala,Rust,Kotlin,SQL\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e2.生成したコードのリファレンス提供\u003c/li\u003e\n\u003cli\u003e3.セキュリティスキャン\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e価格は個人向けは無料となっており、AWSアカウントを持っていなくても使えるので導入ハードルは低く、AIコーディング支援のお試しに丁度良いですね。\u003c/li\u003e\n\u003cli\u003e試してみたZennがあるので、よければ見てください\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://zenn.dev/takamin55/articles/977a738b1161df\"\u003ehttps://zenn.dev/takamin55/articles/977a738b1161df\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e以下の記事も参考になります\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://aws.amazon.com/jp/blogs/news/10-ways-to-build-applications-faster-with-amazon-codewhisperer/\"\u003eAmazon CodeWhisperer でアプリケーションをより速く構築する10の方法\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e「コードからコメントを生成する（docs）」という逆の使い方もあって面白い\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-04-04-export-your-sponsorable-dependencies-and-sponsor-many-in-one-checkout/\"\u003eExport your sponsorable dependencies and sponsor many in one checkout\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/r4mimu\"\u003e@r4mimu\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGitHub においてスポンサー対象を探しやすくなりました\u003c/li\u003e\n\u003cli\u003e具体的には、\u003ca href=\"https://github.com/sponsors/explore\"\u003eSponsors Explore\u003c/a\u003e ページにアクセスすると、自分が依存しがちなスポンサーとなるユーザーが表示されます\u003c/li\u003e\n\u003cli\u003eまた、自身が所属する Organization ごとに表示したり、npm, pipといったエコシステムを絞って検索することもできます\u003c/li\u003e\n\u003cli\u003eこういった機能をGitHubが公式で提供してくれると、開発者に還元され、コミュニティの発展にもつながるので素晴らしいですね\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\u003ca href=\"https://github.blog/changelog/2023-05-09-secret-scannings-push-protection-is-available-on-public-repositories-for-free/\"\u003eSecret scanning’s push protection is available on public repositories, for free\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e共有担当: \u003ca href=\"https://twitter.com/r4mimu\"\u003e@r4mimu\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSecret scanning において、Push protection がすべての無料パブリックリポジトリで利用可能になりました\n\u003cul\u003e\n\u003cli\u003eSecret scanning とはリモートリポジトリ内にシークレットがあるかどうか検知する機能です\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003epush protection は Secret scanning の機能の1つで、リポジトリへの push 時にコミット内にシークレットが入っている場合、push が失敗します\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://zenn.dev/cybozu_ept/articles/productivity-weekly-20230510#secret-scanning\u0026#x27;s-push-protection-is-available-on-public-repositories%2C-for-free-%7C-github-changelog\"\u003e参考記事\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e組織単位でも設定できるのも地味に嬉しい点です\u003c/li\u003e\n\u003cli\u003e余談ですが、検証のために ダミーの aws secret key を push してみましたが、protection されませんでした\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch1\u003eWe are hiring\u003c/h1\u003e\n\u003ca href=\"https://note.com/cybozu_dev/n/n1c1b44bf72f6\"\u003e\n\u003cimg src=\"https://user-images.githubusercontent.com/471182/156986297-b189ef3d-98d3-4490-af5c-007a4ab47e5e.png\" alt=\"サイボウズの開発者の生産性を上げる「生産性向上チーム」とは！？\" width=\"600\"\u003e\n\u003c/a\u003e\n\u003csection data-footnotes class=\"footnotes\"\u003e\u003ch2 id=\"footnote-label\" class=\"sr-only\"\u003eFootnotes\u003c/h2\u003e\n\u003col\u003e\n\u003cli id=\"user-content-fn-node16\"\u003e\n\u003cp\u003e\u003ca href=\"https://zenn.dev/korosuke613/articles/productivity-weekly-20220216#javascript-actions%E3%82%92node16%E3%81%A7%E5%8B%95%E3%81%8B%E3%81%99%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B---kengo\u0026#x27;s-blog\"\u003eJavaScript Actionsをnode16で動かすようにする - Kengo's blog\u003c/a\u003e \u003ca href=\"#user-content-fnref-node16\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli id=\"user-content-fn-actions_can\"\u003e\n\u003cp\u003e\u003ca href=\"https://zenn.dev/korosuke613/articles/productivity-weekly-20220525#actions-can-now-run-in-a-node.js-16-runtime-%7C-github-changelog\"\u003eActions can now run in a Node.js 16 runtime | GitHub Changelog\u003c/a\u003e \u003ca href=\"#user-content-fnref-actions_can\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/section\u003e\n"}},"__N_SSG":true},"page":"/posts/[year]/[slug]","query":{"year":"2023","slug":"05-24"},"buildId":"i3asCg1w_lJDzchl9QowM","assetPrefix":"/productivity-news","runtimeConfig":{"basePath":"/productivity-news"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>